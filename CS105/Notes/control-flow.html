<!DOCTYPE html>
<html>

<head>
<title>Control Flow</title>
<link rel="stylesheet" href="../../globalStyle.css">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body id="course">
<h1>Control Flow</h1>
<p>The absolute value of an integer <span class="math inline">\(n\)</span> is the same as <span class="math inline">\(n\)</span> <strong>if</strong> <span class="math inline">\(n\)</span> is greater than <span class="math inline">\(0\)</span>, and is its negation otherwise. This is an example of a <em>conditional</em> statement, and is something that we cannot yet express in the Swift we have seen so far. The statements for expressing conditionals like this are called <em>control flow</em> statements, and are arguably the most important part of an imperative language like Swift. <em>Programming is managing control flow</em>. In URMs, jump instructions manage control flow. Without the jump instruction, the class of functions that can be expressed with URM programs is severely limited. In Swift, we have a collection of more expressive control flow statements that read like conditional sentences in English.</p>
<p>Despite its importance, control flow is somewhat boring to present, in part because the syntax is so suggestive and readable. This will be the case for a couple of the next few topics, but we have to develop the tools before we can start using them in more interesting ways. I've kept these notes pretty pared down, you will get the most benefit from doing the assignments and seeing more examples in context.</p>
<h2 id="the-if-statement">The <code>if</code> Statement</h2>
<p>The general form of an <code>if</code> statement in swift is</p>
<pre class="swift"><code>if &lt;condition&gt; {
  &lt;body&gt;
}</code></pre>
<p>where <code>&lt;condition&gt;</code> is an expression of type <code>Bool</code> and <code>&lt;body&gt;</code> is a block of code. In English, this reads "if <code>&lt;condition&gt;</code> is true, then execute the code in <code>&lt;body&gt;</code>, otherwise ignore it."</p>
<p><em>Example.</em> The absolute value function can be written</p>
<pre class="swift"><code>func absoluteValue(_ n: Int) -&gt; Int {
    if n &gt;= 0 {
        return n
    }
    return -n
}</code></pre>
<p>In this example, we explicitly use the fact that the function terminates once it reaches a <code>return</code> statement. The second <code>return</code> statement is only executed if <code>n &gt;= 0</code> is <code>false</code>.</p>
<p>Simple enough, I think.</p>
<p>There are a couple convenient variations of the <code>if</code> statement that help in readability. The <code>if</code>-<code>else</code> statement allows you to also specify code to execute in the case that <code>&lt;condition&gt;</code> is false.</p>
<pre class="swift"><code>if &lt;condition&gt; {
    &lt;body1&gt;
} else {
    &lt;body2&gt;
}</code></pre>
<p>This is particularly useful if the conditional statement does not ultimately return something. The code</p>
<pre class="swift"><code>if n &gt; 0 {
    n *= 2    // note the use of the compound assignment operator...
} else {
    n += 1
}</code></pre>
<p>does not behave the same as</p>
<pre class="swift"><code>if n &gt; 0 {
    n *= 2
}
n += 1</code></pre>
<p>but</p>
<pre class="swift"><code>if n &gt; 0 {
    return 2 * n
} else {
    return n + 1
}</code></pre>
<p>and</p>
<pre class="swift"><code>if n &gt; 0 {
    return 2 * n
} else {
return n + 1</code></pre>
<p>are semantically equivalent when they appear in the body of a function.</p>
<p>We can also chain together if statements using the <code>else if</code> construction.</p>
<pre class="swift"><code>if &lt;condition1&gt; {
    &lt;body1&gt;
} else if &lt;condition2&gt; {
    &lt;body2&gt;
} else if &lt;condition3&gt; {
    &lt;body3&gt;
} </code></pre>
<p>This is really just shorthand (<em>syntactic sugar</em>, as it is called in computer science) for</p>
<pre class="swift"><code>if &lt;condition1&gt; {
    &lt;body1&gt;
} else { if &lt;condition2&gt; {
    &lt;body2&gt;
} else { if &lt;condition3&gt; {
  &lt;body3&gt;
}}}</code></pre>
<p>and saves us from typing a long line of closing brackets. Both <code>else if</code> and <code>else</code> can be used together.</p>
<pre class="swift"><code>func parityInWords(_ x: Int) -&gt; String {
  var parity: String = &quot;&quot;
  if x &gt; 0 {
    parity = &quot;positive&quot;
  } else if x &lt; 0 {
    parity = &quot;negative&quot;
  } else {
    parity = &quot;neither postive nor negative&quot;
  }
  return &quot;\(x) is \(parity).&quot;    // note the fun use of string interpolation...
}</code></pre>
<h2 id="the-while-statement">The <code>while</code> statement</h2>
<p>Then general form of a <code>while</code> statement (also called a <code>while</code> loop) is</p>
<pre class="swift"><code>while &lt;condition&gt; {
    &lt;body&gt;
}</code></pre>
<p>In English, it reads "while <code>&lt;condition&gt;</code> is <code>true</code> execute the code in <code>&lt;body&gt;</code>. Once <code>&lt;condition&gt;</code> is <code>false</code>, go to the next part of the program, after the closing bracket." If the condition is false to begin with, the code in the body is ignored. Naturally, the condition should have the possibility of changing within the body of the <code>while</code> statement.</p>
<p><em>Example.</em> This function outputs the sum of the first <span class="math inline">\(k\)</span> positive integers using a <code>while</code> loop, and returns <span class="math inline">\(0\)</span> if <span class="math inline">\(k \leq 0\)</span>.</p>
<pre class="swift"><code>func sum(upto k: Int) -&gt; Int {
    var counter = 0
    var accum = 0
    while counter &lt; k {
        accum += k
        counter += 1
    }
    return accum
}</code></pre>
<h2 id="the-for-in-range-statement">The <code>for-in-range</code> statement</h2>
<p><code>for-in-range</code> statements, also called <code>for</code> loops, are simple in their use but complicated in their details. It is a way of iterating over a range of <code>Int</code>s, provided by the <em>range operators</em> (<code>a...b</code>) and (<code>a..&lt;b</code>). The <em>inclusive range</em> <code>a...b</code> includes <code>b</code> where as the <em>exclusive range</em> <code>a..&lt;b</code> does not. It <em>must</em> be the case that <span class="math inline">\(a \leq b\)</span> for inclusive ranges and that <span class="math inline">\(a &lt; b\)</span> for exclusive ranges, otherwise Swift will complain and the program will crash. We can't yet say exactly what a <em>range</em> is, but it suffices to know that ranges can be used in <code>for</code> loops.</p>
<p>The general form of a <code>for-in-range</code> statement is</p>
<pre class="swift"><code>for &lt;indexName&gt; in &lt;range&gt; {
    &lt;body&gt;
}</code></pre>
<p>In English, it reads "execute the code in <code>&lt;body&gt;</code> for each <code>Int</code> <span class="math inline">\(i\)</span> in <code>&lt;range&gt;</code> in increasing order, with the constant <code>&lt;indexName&gt;</code> set to the value <span class="math inline">\(i\)</span>."</p>
<p><em>Example.</em> This is a more natural definition of the <code>sum</code> function above.</p>
<pre class="swift"><code>func sum(upto k: Int) {
  if k &lt;= 0 {
    return 0
  }
  var accum = 0
  for i in 1...k {
    accum += i
  }
  return accum
}</code></pre>
<h2 id="additional-reading">Additional Reading</h2>
<ul>
<li>I would recommend taking a look at the entire chapter on [<a href="https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html">Control Flow</a>] in the Swift book. Some of it will likely look a bit mysterious, but try the best you can to push through it.</li>
</ul>
</body>

</html>
